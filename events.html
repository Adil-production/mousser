<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mousser</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
  <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1139675129391978"
  crossorigin="anonymous"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400&display=swap" rel="stylesheet">
<style>
  .pn-ProductNav_Wrapper {
position: relative;
padding: 0 11px;
}

.pn-ProductNav {
/* Make this scrollable when needed */
overflow-x: auto;
/* We don't want vertical scrolling */
overflow-y: hidden;
/* For WebKit implementations, provide inertia scrolling */
-webkit-overflow-scrolling: touch;
/* We don't want internal inline elements to wrap */
white-space: nowrap;
/* If JS present, let's hide the default scrollbar */
/* positioning context for advancers */
position: relative;
}
.js .pn-ProductNav {
/* Make an auto-hiding scroller for the 3 people using a IE */
-ms-overflow-style: -ms-autohiding-scrollbar;
/* Remove the default scrollbar for WebKit implementations */
}
.js .pn-ProductNav::-webkit-scrollbar {
display: none;
}

.pn-ProductNav_Contents {
float: left;
transition: transform 0.2s ease-in-out;
}

.pn-ProductNav_Contents-no-transition {
transition: none;
}

.pn-ProductNav_Link {
text-decoration: none;
color: #888;
font-size: 1.2em;
font-family: -apple-system, sans-serif;
display: inline-flex;
align-items: center;
min-height: 44px;
}
.pn-ProductNav_Link + .pn-ProductNav_Link {
margin-left: 11px;
padding-left: 11px;
border-left: 1px solid #eee;
}
.pn-ProductNav_Link[aria-selected=true] {
color: #111;
}

.pn-Advancer {
/* Reset the button */
-webkit-appearance: none;
-moz-appearance: none;
appearance: none;
background: transparent;
padding: 0;
border: 0;
/* Now style it as needed */
position: absolute;
top: 0;
bottom: 0;
/* Set the buttons invisible by default */
opacity: 0;
transition: opacity 0.3s;
}
.pn-Advancer:focus {
outline: 0;
}
.pn-Advancer:hover {
cursor: pointer;
}

.pn-Advancer_Left {
left: 0;
}
[data-overflowing=both] ~ .pn-Advancer_Left, [data-overflowing=left] ~ .pn-Advancer_Left {
opacity: 1;
}

.pn-Advancer_Right {
right: 0;
}
[data-overflowing=both] ~ .pn-Advancer_Right, [data-overflowing=right] ~ .pn-Advancer_Right {
opacity: 1;
}

.pn-Advancer_Icon {
width: 20px;
height: 44px;
fill: rgb(81, 108, 156);
}

</style>
<style>

  .center{
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%,-50%);
  }
  .img{
      margin: 10px;
      width: 33px;
      display: inline-block;
      
    }
    .img2{
      margin: 10px;
      width: 33px;
      transform: scale(1.5);
      display: inline-block;
     
    }
  img{
    border-radius: 10px;
  }
  .msg{
    border: solid 0.4px gray;
    border-left: none;
    border-right: none;
    border-bottom: none;
    width: 100%;
    padding: 20px;
    color: black;
  }
  #main,#your-messages{
    position: absolute;
    left: 0;
    right: 0;
  }
  .add{
    padding: 6px;
    border-radius: 100%;
    border: 2px solid ;
    width: 50px;
  }
  img,ion-img{
    pointer-events: none;
  }
  #chip1{
    color: rgb(0, 102, 255);
    background-color: rgb(216, 229, 236);
    padding: 8px;
    width: 128px;
    border-radius: 50px;
  }
  #list{
    display: none;
  }
  .list{
    padding: 10px;
    margin: 5px;
    font-size: 20px;
    width: 200%;
    color: rgb(43, 43, 43);
    border-radius: 50px;
    display: inline-block;
  }
  .list:hover{
    padding: 10px;
    margin: 5px;
    font-size: 20px;
    width: 200%;
    background-color: rgb(226, 226, 226);
    border-radius: 50px;
    cursor: pointer;
  }
  @media only screen and (min-width: 1000px) {
    #main{
      max-width: 37%;
      margin: auto;
      border: 1px solid gray;
      top: 20px;
      min-height: 100%;
      box-shadow: 0px 10px 15px -5px gray;
    }
    #your-messages{
      max-width: 37%;
      margin: auto;
      border: 1px solid gray;
      min-height: 100%;
      box-shadow: 0px 10px 15px -5px gray;
    }
    #type{
      position: fixed;
    }
    #list{
      display: block;
    }
    #chips{
        display: none;
      }
  }
</style>
<script type="module">
  import { modalController } from 'https://cdn.jsdelivr.net/npm/@ionic/core@latest/dist/ionic/index.esm.js';
  window.modalController = modalController;
</script>
</head>

<body class="dark">
<div id="all">
<ion-app>



<ion-tabs>



  <ion-tab tab="main">



    

    <div class="ion-page" id="main-content">
      <ion-header>
        <ion-toolbar >
          <ion-buttons slot="start" id="menu">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>
          <ion-buttons slot="end">
            <ion-button onclick="window.location.reload()">
            <ion-icon name="refresh-outline" style="font-size : 30px; padding:10px;" ></ion-icon>
            </ion-button>
          </ion-buttons>
          <ion-img src="images/title.png" style=" width:80px; margin-left: 20px;" slot="start"></ion-img>
        </ion-toolbar>
        <ion-toolbar style="padding: 5px;"id="chips">
          <div >
            <div class="pn-ProductNav_Wrapper" >
              <nav id="pnProductNav" class="pn-ProductNav">
                  <div id="pnProductNavContents" class="pn-ProductNav_Contents">
                    <a href="#" class="pn-ProductNav_Link">
                      <form action="events.html" id="form4">
                        <ion-chip color="primary" onclick="submitForm4()">
                          <ion-icon name="calendar-number-sharp"></ion-icon>
                          <ion-label>Events</ion-label>
                        </ion-chip>
                      </form>
                      <script>
                        function submitForm4(){
                            var form = document.getElementById("form4");
                            form.submit();
                        }
                      </script>
                    </a>
                      <a href="#" class="pn-ProductNav_Link" aria-selected="true">
                        <form id="form" action="general.html">
                          <ion-chip color="primary" onclick="submitForm()">
                            <ion-icon name="information-circle-sharp"></ion-icon>
                            <ion-label>General</ion-label>
                          </ion-chip>
                        </form>
                        <script>
                          function submitForm(){
                              var form = document.getElementById("form");
                              form.submit();
                          }
                          </script>
                      </a>
                      <a href="#" class="pn-ProductNav_Link">
                        <form id="form1" action="sport.html">
                          <ion-chip color="primary" onclick="submitForm1()">
                            <ion-icon name="barbell-sharp"></ion-icon>
                            <ion-label>Sport</ion-label>
                          </ion-chip>
                        </form>
                        <script>
                          function submitForm1(){
                              var form = document.getElementById("form1");
                              form.submit();
                          }
                          </script>
                      </a>
                      <a href="#" class="pn-ProductNav_Link">
                        <form action="tech.html" id="form2">
                          <ion-chip color="primary" onclick="submitForm2()">
                            <ion-icon name="code-working-sharp"></ion-icon>
                            <ion-label>Tech</ion-label>
                          </ion-chip>
                        </form>
                        <script>
                          function submitForm2(){
                              var form = document.getElementById("form2");
                              form.submit();
                          }
                          </script>
                      </a>
                      <a href="#" class="pn-ProductNav_Link">
                        <form action="food.html" id="form3">
                          <ion-chip color="primary" onclick="submitForm3()">
                            <ion-icon name="fast-food-sharp"></ion-icon>
                            <ion-label>Food</ion-label>
                          </ion-chip>
                        </form>
                        <script>
                          function submitForm3(){
                              var form = document.getElementById("form3");
                              form.submit();
                          }
                        </script>
                      </a>
                  </div>
                
              </nav>
                <button id="pnAdvancerLeft"  class="pn-Advancer pn-Advancer_Left"  type="button">
                  <svg class="pn-Advancer_Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 551 1024"><path d="M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z"/></svg>
                </button>
                <button id="pnAdvancerRight"  class="pn-Advancer pn-Advancer_Right" type="button">
                  <svg class="pn-Advancer_Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 551 1024"><path d="M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z"/></svg>
                </button>
              </div>
            </div>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <div id="main2">
          <h2 style="margin-bottom: 20px;" id="type">
            <strong>Events</strong>
            
            <div id="list" align="center">
              <br>
            <br>
              <form action="general.html" id="form5">
                
                <div class="list"  onclick="submitForm5()"><ion-icon name="information-circle-sharp" style="transform: translateY(12%)translateX(-50%); "></ion-icon>General</div>
                <script>
                  function submitForm5(){
                      var form = document.getElementById("form5");
                      form.submit();
                  }
                  </script>
              </form>
              <form action="sport.html" id="form6">
                <div class="list" onclick="submitForm6()"><ion-icon name="barbell-sharp" style="transform: translateY(12%)translateX(-115%); "></ion-icon>Sport</div>
                <script>
                  function submitForm6(){
                      var form = document.getElementById("form6");
                      form.submit();
                  }
                  </script>
              </form>
              <form action="tech.html" id="form7">
                <div class="list" onclick="submitForm7()"><ion-icon name="code-working-sharp" style="transform: translateY(12%)translateX(-125%); "></ion-icon>Tech</div>
                <script>
                  function submitForm7(){
                      var form = document.getElementById("form7");
                      form.submit();
                  }
                  </script>
              </form>
              <form action="food.html" id="form8">
                <div class="list" onclick="submitForm8()"><ion-icon name="fast-food-sharp" style="transform: translateY(12%)translateX(-119%); "></ion-icon>Food</div>
                <script>
                  function submitForm8(){
                      var form = document.getElementById("form8");
                      form.submit();
                  }
                  </script>
              </form>
              <form action="events.html" id="form9">
                <div class="list" onclick="submitForm9()"><strong><ion-icon name="calendar-number-sharp" style="transform: translateY(12%)translateX(-75%); "></ion-icon>Events</strong></div>
                <script>
                  function submitForm9(){
                      var form = document.getElementById("form9");
                      form.submit();
                  }
                  </script>
              </form>
            </div>
          </h2>
          <br>  
          <div id="main"></div>
            <div id="notmain" style="display: none;" class="center">
              <ion-icon name="hourglass-sharp" style="font-size: 100px;"></ion-icon>
              <br>
              <h2><strong>Nothing !</strong></h2>
            </div>
      </div>
      </ion-content>
      </div>



    </ion-tab>
    
    

    <ion-tab tab="new">
      <ion-header translucent>
        <ion-toolbar >
          <ion-title>New message</ion-title>
          <ion-buttons slot="end" id="btn">
            <ion-button >Send</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content  class="ion-padding">
        
        <ion-item >
          <ion-label position="floating">Message</ion-label>
          <ion-input id="msg"></ion-input>
        </ion-item>
        <ion-item style="display: none;" id="imghref">
          <ion-label position="floating">Image link</ion-label>
          <ion-input id="img"></ion-input>
        </ion-item>
        <br>
        <div align="center" id="chip">
          <ion-chip color="primary" onclick="document.getElementById('imghref').style.display='block';document.getElementById('chip2').style.display='block';document.getElementById('chip').style.display='none';">
            Insert image address
          </ion-chip>
         </div>
         <div align="center" style="display: none;" id="chip2">
          <a href="getImageUrl.html" style="text-decoration: none;"><ion-chip color="primary" >
            I don't know how to get the image address
          </ion-chip></a>
         </div>
         
         <br>
         <h2><strong>Language of News :</strong></h2>
         <div style="margin: 10px;" align="center">
          <div class="img2"onclick="en()" id="en"><ion-img  src="https://cdn-icons-png.flaticon.com/128/555/555417.png" ></ion-img></div>
          <div class="img" onclick="ar()" id="ar"><ion-img  src="https://cdn-icons.flaticon.com/png/128/5111/premium/5111862.png?token=exp=1643137189~hmac=ae356a90640a7c882169ec01acc484fe" ></ion-img></div>
          <div class="img" onclick="hi()" id="hi"><ion-img  src="https://cdn-icons-png.flaticon.com/128/206/206606.png" ></ion-img></div>
          <div class="img" onclick="es()" id="es"><ion-img  src="https://cdn-icons-png.flaticon.com/128/330/330557.png" ></ion-img></div>
          <div class="img" onclick="ru()" id="ru"><ion-img  src="https://cdn-icons-png.flaticon.com/128/330/330437.png" ></ion-img></div>
         </div>
         <h2><strong>Top news :</strong></h2>
         <br>
         <div id="news"></div>
      </ion-content>
    </ion-tab>

    <ion-tab tab="logout">
      <ion-header translucent>
        <ion-toolbar >
          <ion-title>Log-out</ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content fullscreen class="ion-padding">
          <div align="center">
            <h1><strong id="logName"></strong></h1>
            <br>
            <ion-button id="logout">Log-out</ion-button>
          </div>
        <hr>
        <div align="center">
          <ion-item>
            Share :
          </ion-item>
        <br>
        <a href="whatsapp://send?text=https://adil-production.github.io/mousser" data-action="share/whatsapp/share"><ion-button color="success"><ion-icon name="logo-whatsapp"></ion-icon></ion-button></a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://adil-production.github.io/mousser"><ion-button color="primary"><ion-icon name="logo-facebook"></ion-icon></ion-button></a>
        <a href="https://twitter.com/share?url=https://adil-production.github.io/mousser"><ion-button color="primary"><ion-icon name="logo-twitter"></ion-icon></a>
        <a href="https://plus.google.com/share?url=https://adil-production.github.io/mousser"><ion-button color="danger"><ion-icon name="logo-google"></ion-icon></a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://adil-production.github.io/mousser"><ion-button color="primary"><ion-icon name="logo-linkedin"></ion-icon></a>
      </div>
      </ion-content>
    </ion-tab>


    <ion-tab tab="your">
      <ion-header>
        <ion-toolbar >
          <ion-title>Your Profil</ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content  class="ion-padding">
        <div align="center">
          <h1><strong id="fullname"></strong></h1>
        </div>
        <br>
        <ion-item>
          Your Messages :
        </ion-item>
        <br>
        <div align="center">
          <ion-button color="danger" id="delete" onclick="document.getElementById('your-messages').value = '';localStorage.setItem('messagegeneral','');window.location.reload()">Delete</ion-button>
        </div>
        <br>
        <div id="your-messages"></div>
        <div id="notyour-messages" style="display: none;"align="center">
          <ion-icon name="hourglass-sharp" style="font-size: 100px;"></ion-icon>
          <br>
          <h2><strong>Nothing !</strong></h2>
        </div>
      </ion-content>
    </ion-tab>


    
    
    

    <ion-tab-bar slot="bottom" >
      <ion-tab-button tab="main" onclick="window.location.reload()">
        <ion-icon name="chatbubbles-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="your">
        <ion-icon name="person-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="new">
        <div class="add"><ion-icon name="add-outline" style="font-size: 30px;transform: translateY(5%);"></ion-icon></div>
      </ion-tab-button>
      <ion-tab-button tab="about" onclick="openSheetModal()">
        <ion-icon name="information-sharp"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="logout">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-tab-button>
    </ion-tab-bar>

  </ion-tabs>

    </ion-tab-bar>
  </ion-tab-bar>
  </ion-tabs>






  

  </ion-content>
</ion-app>
</div>

<div id="namereg" class="center" style="width: 100%;">
  <ion-item color="danger">
    <ion-icon name="alert-sharp"></ion-icon>You can't change this after!
  </ion-item>
  <ion-item >
    <ion-label position="floating">First Name</ion-label>
    <ion-input id="name" style="width: 100%;"></ion-input>
  </ion-item>
  <ion-item >
    <ion-label position="floating">Last Name</ion-label>
    <ion-input id="last" style="width: 100%;"></ion-input>
  </ion-item>
  <div align='center'>
    <ion-button id="reg">Register</ion-button>
    <ion-button fill="outline" onclick="window.location.reload()"><ion-icon name="refresh-sharp"></ion-icon></ion-button>
  </div>
</div>
  <script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js"
import { getFirestore , collection, addDoc , getDocs , getDoc , doc, onSnapshot  } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-firestore.js"

document.getElementById("reg").addEventListener("click",function(){
  localStorage.setItem("name",document.getElementById("name").value);
  localStorage.setItem("last",document.getElementById("last").value);
  if(document.getElementById("name").value == "" || document.getElementById("last").value == ""){
    alert("sorry some of this inputs are empty")
  } else {
    document.getElementById("logName").innerHTML = localStorage.getItem("last") + " " + localStorage.getItem("name");
    document.getElementById("all").style.display="block";
    document.getElementById("namereg").style.display="none";
  }

})



const firebaseConfig = {
  apiKey: "AIzaSyDjAdg2vgwGgZXI154QNpzMHGrYp9V-W50",
  authDomain: "tasshilat-5064c.firebaseapp.com",
  projectId: "tasshilat-5064c",
  storageBucket: "tasshilat-5064c.appspot.com",
  messagingSenderId: "58614738497",
  appId: "1:58614738497:web:ba2d55ca955314c61be0c0",
  measurementId: "G-8PFTPS64MW"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);


const db = getFirestore();

document.getElementById("btn").addEventListener("click" , async function(){
  if(document.getElementById("msg").value==""){
    alert("The message is empty")
  } else {
    var UserName = localStorage.getItem("name");
    var last = localStorage.getItem("last");
   var msg = document.getElementById("msg").value;
   var img = document.getElementById("img").value;
   var message = localStorage.getItem("messageevent");
   if(message){
      localStorage.setItem("messageevent" , localStorage.getItem("messageevent") + `<div class="msg"><strong style="color : black">${last} ${UserName}</strong><br>${msg}<br>  <img src="${img}" style="max-width:100%; width:90%; height:auto; display: block;margin-left: auto;margin-right: auto;" /></div>`)
      document.getElementById("your-messages").innerHTML = localStorage.getItem("messageevent")
    } else {
       localStorage.setItem("messageevent" , `<div class="msg"><strong style="color : black">${last} ${UserName}</strong><br>${msg}<br>  <img src="${img}" style="max-width:100%; width:90%; height:auto; display: block;margin-left: auto;margin-right: auto;" /></div>`)
       document.getElementById("your-messages").innerHTML = localStorage.getItem("messageevent")
    }
  try {
    
 
      const docRef = await addDoc(collection(db, "event" ), {
    message: `<strong style="color : black">${last} ${UserName}</strong><br>${msg}  <br>  <img data-src="${img}" style="max-width:100%; width:90%; height:auto; display: block;margin-left: auto;margin-right: auto;" />`
  });
    


} catch (e) {
  console.error("Error adding document: ", e);
}
const querySnapshot = await getDocs(collection(db, "event"));
  querySnapshot.forEach((doc) => {
    var name = localStorage.getItem("name");
    console.log(doc.data().message);
    document.getElementById("main").innerHTML += ` 
    <div class="msg">
    ${doc.data().message}
    </div>
    `
    window.location.reload();
  });
  }
  if(document.getElementById("main").innerHTML == ""){
    document.getElementById("main").style.display="none";
    document.getElementById("notmain").style.display="block";
  } else{
    document.getElementById("main").style.display="block";
    document.getElementById("notmain").style.display="none";
  } if(document.getElementById("your-messages").innerHTML == ""){
    document.getElementById("your-messages").style.display="none";
    document.getElementById("notyour-messages").style.display="block";
    document.getElementById("delete").style.display="none";
  } else{
    document.getElementById("your-messages").style.display="block";
    document.getElementById("notyour-messages").style.display="none";
    document.getElementById("delete").style.display="block";
  } 

})




window.addEventListener("load" , async function(){

  document.getElementById("your-messages").innerHTML = localStorage.getItem("messageevent")


  const name = localStorage.getItem('name');
  const last = localStorage.getItem('last');

if(name){
  document.getElementById("all").style.display="block";
  document.getElementById("namereg").style.display="none";
  document.getElementById("logName").innerHTML = localStorage.getItem("last") + " " + localStorage.getItem("name");
  document.getElementById("fullname").innerHTML = localStorage.getItem("last") + " " + localStorage.getItem("name");
} else{
  document.getElementById("all").style.display="none";
  document.getElementById("namereg").style.display="block";
}
if(last){
  document.getElementById("all").style.display="block";
  document.getElementById("namereg").style.display="none";
  document.getElementById("logName").innerHTML = localStorage.getItem("last") + " " + localStorage.getItem("name");
  document.getElementById("fullname").innerHTML = localStorage.getItem("last") + " " + localStorage.getItem("name");
} else {
  document.getElementById("all").style.display="none";
  document.getElementById("namereg").style.display="block";
}
  const querySnapshot = await getDocs(collection(db, "event"));
  querySnapshot.forEach((doc) => {
    document.getElementById("main").innerHTML += ` 
    <div class="msg">
    ${doc.data().message}
    </div>
    `

  });
  if(document.getElementById("main").innerHTML == ""){
    document.getElementById("main").style.display="none";
    document.getElementById("notmain").style.display="block";
  } else{
    document.getElementById("main").style.display="block";
    document.getElementById("notmain").style.display="none";
  } if(document.getElementById("your-messages").innerHTML == ""){
    document.getElementById("your-messages").style.display="none";
    document.getElementById("notyour-messages").style.display="block";
    document.getElementById("delete").style.display="none";
  } else{
    document.getElementById("your-messages").style.display="block";
    document.getElementById("notyour-messages").style.display="none";
    document.getElementById("delete").style.display="block";
  } 
})
document.getElementById("logout").addEventListener("click",function(){
    localStorage.removeItem("last")
    localStorage.removeItem("name")
    window.location.reload()
  })
  </script>
<script>
  const pageEl = document.querySelector('.ion-page');
        customElements.define(
          'modal-content',
          class ModalContent extends HTMLElement {
            connectedCallback() {
              this.innerHTML = `
            <ion-header translucent>
              <ion-toolbar>
                <ion-title>About Mousser</ion-title>
                <ion-buttons slot="end">
                  <ion-button onclick="dismissModal()">Close</ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>
            <ion-content fullscreen class="ion-padding">
              <h3>Mousser  is a social media created by <ion-text color="primary">BELHASS Mohamed Adil</ion-text> or you can say <ion-text color="primary">Porbet</ion-text>. It allows a user to send free text messages in different rooms : General , Sport , Tech , Food and Events | you can see more in our main <a href="https://porbet.github.io/porbet/">website</a></h3>
            </ion-content>
          `;
            }
          }
        );
  
        let currentModal = null;
        async function openModal(opts = {}) {
          const modal = await modalController.create({
            component: 'modal-content',
            ...opts,
          });
          modal.present();
  
          currentModal = modal;
        }
  
        function openSheetModal() {
          openModal({
            breakpoints: [0,0.5],
            initialBreakpoint: 0.5,
          });
        }
  
        function openCardModal() {
          openModal({
            swipeToClose: true,
            presentingElement: pageEl,
          });
        }
  
        function dismissModal() {
          if (currentModal) {
            currentModal.dismiss().then(() => {
              currentModal = null;
            });
          }
        }
        var API_URL = 'https://gnews.io/api/v4/top-headlines?token=d1b07a439d07bb4561f441e9bea22a39&lang=en'
var main = document.getElementById('news')


// ------------------------------------------------------------



  function en(){
    document.getElementById("en").classList.remove("img")
    document.getElementById("en").classList.add("img2")
    document.getElementById("ar").classList.remove("img2")
    document.getElementById("ar").classList.add("img")
    document.getElementById("hi").classList.remove("img2")
    document.getElementById("hi").classList.add("img")
    document.getElementById("es").classList.remove("img2")
    document.getElementById("es").classList.add("img")
    document.getElementById("ru").classList.remove("img2")
    document.getElementById("ru").classList.add("img")
    getMovies("https://gnews.io/api/v4/top-headlines?token=d1b07a439d07bb4561f441e9bea22a39&lang=en")
  } function ar(){
    document.getElementById("ar").classList.remove("img")
    document.getElementById("ar").classList.add("img2")
    document.getElementById("en").classList.remove("img2")
    document.getElementById("en").classList.add("img")
    document.getElementById("hi").classList.remove("img2")
    document.getElementById("hi").classList.add("img")
    document.getElementById("es").classList.remove("img2")
    document.getElementById("es").classList.add("img")
    document.getElementById("ru").classList.remove("img2")
    document.getElementById("ru").classList.add("img")
    getMovies("https://gnews.io/api/v4/top-headlines?token=d1b07a439d07bb4561f441e9bea22a39&lang=ar")
  } function es(){
    document.getElementById("es").classList.remove("img")
    document.getElementById("es").classList.add("img2")
    document.getElementById("en").classList.remove("img2")
    document.getElementById("en").classList.add("img")
    document.getElementById("hi").classList.remove("img2")
    document.getElementById("hi").classList.add("img")
    document.getElementById("ar").classList.remove("img2")
    document.getElementById("ar").classList.add("img")
    document.getElementById("ru").classList.remove("img2")
    document.getElementById("ru").classList.add("img")
    getMovies("https://gnews.io/api/v4/top-headlines?token=d1b07a439d07bb4561f441e9bea22a39&lang=es")
  } function hi(){
    document.getElementById("hi").classList.remove("img")
    document.getElementById("hi").classList.add("img2")
    document.getElementById("en").classList.remove("img2")
    document.getElementById("en").classList.add("img")
    document.getElementById("es").classList.remove("img2")
    document.getElementById("es").classList.add("img")
    document.getElementById("ar").classList.remove("img2")
    document.getElementById("ar").classList.add("img")
    document.getElementById("ru").classList.remove("img2")
    document.getElementById("ru").classList.add("img")
    getMovies("https://gnews.io/api/v4/top-headlines?token=d1b07a439d07bb4561f441e9bea22a39&lang=hi")
  } function ru(){
    document.getElementById("ru").classList.remove("img")
    document.getElementById("ru").classList.add("img2")
    document.getElementById("en").classList.remove("img2")
    document.getElementById("en").classList.add("img")
    document.getElementById("es").classList.remove("img2")
    document.getElementById("es").classList.add("img")
    document.getElementById("ar").classList.remove("img2")
    document.getElementById("ar").classList.add("img")
    document.getElementById("hi").classList.remove("img2")
    document.getElementById("hi").classList.add("img")
    getMovies("https://gnews.io/api/v4/top-headlines?token=d1b07a439d07bb4561f441e9bea22a39&lang=ru")
  }

// Get initial movies
getMovies(API_URL)

async function getMovies(url) {
    const res = await fetch(url)
    const data = await res.json()
    showMovies(data.articles)
    console.log(data)
}

function showMovies(movies) {
    main.innerHTML = ''

    movies.forEach((movie) => {
        const { title, image , publishedAt  } = movie

        const movieEl = document.createElement('div')
        movieEl.classList.add('movie')

        movieEl.innerHTML = `
        <ion-card>
        <img src="${image}" width="100%"/>
        <ion-card-header>
          <ion-card-title>${title}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          
        </ion-card-content>
       
            <ion-label style="margin : 10px; padding:10px;">${publishedAt}</ion-label>
            <br>
            <br>

      </ion-card>
      <br>
            
        `
        main.appendChild(movieEl)
    })
}
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
    var lazyloadImages = document.querySelectorAll("img.lazy");    
    var lazyloadThrottleTimeout;
    
    function lazyload () {
      if(lazyloadThrottleTimeout) {
        clearTimeout(lazyloadThrottleTimeout);
      }    
      
      lazyloadThrottleTimeout = setTimeout(function() {
          var scrollTop = window.pageYOffset;
          lazyloadImages.forEach(function(img) {
              if(img.offsetTop < (window.innerHeight + scrollTop)) {
                img.src = img.dataset.src;
                img.classList.remove('lazy');
              }
          });
          if(lazyloadImages.length == 0) { 
            document.removeEventListener("scroll", lazyload);
            window.removeEventListener("resize", lazyload);
            window.removeEventListener("orientationChange", lazyload);
          }
      }, 20);
    }
    
    document.addEventListener("scroll", lazyload);
    window.addEventListener("resize", lazyload);
    window.addEventListener("orientationChange", lazyload);
  });
  </script>
<script>
  var SETTINGS = {
navBarTravelling: false,
navBarTravelDirection: "",
navBarTravelDistance: 150
}

document.documentElement.classList.remove("no-js");
document.documentElement.classList.add("js");

// Out advancer buttons
var pnAdvancerLeft = document.getElementById("pnAdvancerLeft");
var pnAdvancerRight = document.getElementById("pnAdvancerRight");

var pnProductNav = document.getElementById("pnProductNav");
var pnProductNavContents = document.getElementById("pnProductNavContents");

pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));

// Handle the scroll of the horizontal container
var last_known_scroll_position = 0;
var ticking = false;

function doSomething(scroll_pos) {
pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));
}

pnProductNav.addEventListener("scroll", function() {
last_known_scroll_position = window.scrollY;
if (!ticking) {
window.requestAnimationFrame(function() {
  doSomething(last_known_scroll_position);
  ticking = false;
});
}
ticking = true;
});


pnAdvancerLeft.addEventListener("click", function() {
// If in the middle of a move return
if (SETTINGS.navBarTravelling === true) {
return;
}
// If we have content overflowing both sides or on the left
if (determineOverflow(pnProductNavContents, pnProductNav) === "left" || determineOverflow(pnProductNavContents, pnProductNav) === "both") {
// Find how far this panel has been scrolled
var availableScrollLeft = pnProductNav.scrollLeft;
// If the space available is less than two lots of our desired distance, just move the whole amount
// otherwise, move by the amount in the settings
if (availableScrollLeft < SETTINGS.navBarTravelDistance * 2) {
  pnProductNavContents.style.transform = "translateX(" + availableScrollLeft + "px)";
} else {
  pnProductNavContents.style.transform = "translateX(" + SETTINGS.navBarTravelDistance + "px)";
}
// We do want a transition (this is set in CSS) when moving so remove the class that would prevent that
pnProductNavContents.classList.remove("pn-ProductNav_Contents-no-transition");
// Update our settings
SETTINGS.navBarTravelDirection = "left";
SETTINGS.navBarTravelling = true;
}
// Now update the attribute in the DOM
pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));
});

pnAdvancerRight.addEventListener("click", function() {
// If in the middle of a move return
if (SETTINGS.navBarTravelling === true) {
return;
}
// If we have content overflowing both sides or on the right
if (determineOverflow(pnProductNavContents, pnProductNav) === "right" || determineOverflow(pnProductNavContents, pnProductNav) === "both") {
// Get the right edge of the container and content
var navBarRightEdge = pnProductNavContents.getBoundingClientRect().right;
var navBarScrollerRightEdge = pnProductNav.getBoundingClientRect().right;
// Now we know how much space we have available to scroll
var availableScrollRight = Math.floor(navBarRightEdge - navBarScrollerRightEdge);
// If the space available is less than two lots of our desired distance, just move the whole amount
// otherwise, move by the amount in the settings
if (availableScrollRight < SETTINGS.navBarTravelDistance * 2) {
  pnProductNavContents.style.transform = "translateX(-" + availableScrollRight + "px)";
} else {
  pnProductNavContents.style.transform = "translateX(-" + SETTINGS.navBarTravelDistance + "px)";
}
// We do want a transition (this is set in CSS) when moving so remove the class that would prevent that
pnProductNavContents.classList.remove("pn-ProductNav_Contents-no-transition");
// Update our settings
SETTINGS.navBarTravelDirection = "right";
SETTINGS.navBarTravelling = true;
}
// Now update the attribute in the DOM
pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));
});

pnProductNavContents.addEventListener(
"transitionend",
function() {
// get the value of the transform, apply that to the current scroll position (so get the scroll pos first) and then remove the transform
var styleOfTransform = window.getComputedStyle(pnProductNavContents, null);
var tr = styleOfTransform.getPropertyValue("-webkit-transform") || styleOfTransform.getPropertyValue("transform");
// If there is no transition we want to default to 0 and not null
var amount = Math.abs(parseInt(tr.split(",")[4]) || 0);
pnProductNavContents.style.transform = "none";
pnProductNavContents.classList.add("pn-ProductNav_Contents-no-transition");
// Now lets set the scroll position
if (SETTINGS.navBarTravelDirection === "left") {
  pnProductNav.scrollLeft = pnProductNav.scrollLeft - amount;
} else {
  pnProductNav.scrollLeft = pnProductNav.scrollLeft + amount;
}
SETTINGS.navBarTravelling = false;
},
false
);

// Handle setting the currently active link
pnProductNavContents.addEventListener("click", function(e) {
var links = [].slice.call(document.querySelectorAll(".pn-ProductNav_Link"));
links.forEach(function(item) {
item.setAttribute("aria-selected", "false");
})
e.target.setAttribute("aria-selected", "true");
})

function determineOverflow(content, container) {
var containerMetrics = container.getBoundingClientRect();
var containerMetricsRight = Math.floor(containerMetrics.right);
var containerMetricsLeft = Math.floor(containerMetrics.left);
var contentMetrics = content.getBoundingClientRect();
var contentMetricsRight = Math.floor(contentMetrics.right);
var contentMetricsLeft = Math.floor(contentMetrics.left);
if (containerMetricsLeft > contentMetricsLeft && containerMetricsRight < contentMetricsRight) {
return "both";
} else if (contentMetricsLeft < containerMetricsLeft) {
return "left";
} else if (contentMetricsRight > containerMetricsRight) {
return "right";
} else {
return "none";
}
}
</script>
</body>

</html>
